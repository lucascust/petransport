<!-- Modal de Adição de Pet -->
<div id="modal-adicionar-pet"
  class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
  <div class="bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-hidden flex flex-col">
    <div
      class="px-4 py-3 border-b border-gray-200 flex justify-between items-center bg-gradient-to-r from-green-600 to-green-500">
      <h2 class="text-lg font-semibold text-white flex items-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 512 512" fill="currentColor"
          stroke="currentColor" stroke-width="0">
          <path
            d="M442.8 361.82c-8.8-25.1-29.31-37.82-49.11-50.12-17.23-10.71-33.5-20.83-44.14-39-29.33-50.33-45.44-80.7-93.49-80.7s-64.21 30.38-93.61 80.69c-10.65 18.21-27 28.35-44.25 39.08-19.8 12.31-40.27 25-49.1 50.05a78.3 78.3 0 0 0-5.2-28.29z">
          </path>
          <ellipse cx="72" cy="216" rx="56" ry="72"></ellipse>
          <ellipse cx="184" cy="120" rx="56" ry="72"></ellipse>
          <ellipse cx="328" cy="120" rx="56" ry="72"></ellipse>
          <ellipse cx="440" cy="216" rx="56" ry="72"></ellipse>
        </svg>
        Adicionar Novo Pet
      </h2>
      <button onclick="fecharModal('modal-adicionar-pet')" class="text-white hover:text-gray-200">
        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="p-4 overflow-y-auto flex-1">
      <!-- Add Pet Form -->
      <form id="form-adicionar-pet" method="POST" enctype="multipart/form-data">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
          <div>
            <label for="new_pet_name" class="block text-sm font-medium text-gray-700 mb-1">Nome do Pet</label>
            <div class="relative">
              <input type="text" id="new_pet_name" name="name" required
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50"
                placeholder="Nome do Pet">
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-tag-icon lucide-tag">
                  <path
                    d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z" />
                  <circle cx="7.5" cy="7.5" r=".5" fill="currentColor" />
                </svg>
              </div>
            </div>
          </div>

          <div>
            <label for="new_species" class="block text-sm font-medium text-gray-700 mb-1">Espécie</label>
            <div class="relative">
              <select id="new_species" name="species" required
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50">
                <option value="canine">Canino</option>
                <option value="feline">Felino</option>
                <option value="bird">Pássaro</option>
                <option value="rodent">Roedor</option>
                <option value="other">Outros</option>
              </select>
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="16"
                  width="16" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M256 224c-79.41 0-192 122.76-192 200.25 0 34.9 26.81 55.75 71.74 55.75 48.84 0 81.45-25.08 120.26-25.08 38.79 0 71.42 25.08 120.26 25.08 44.93 0 71.74-20.85 71.74-55.75C448 346.76 335.41 224 256 224zm-147.28-12.61c-10.4-34.65-42.44-57.09-71.56-50.13-29.12 6.96-44.29 40.69-33.89 75.34 10.4 34.65 42.44 57.09 71.56 50.13 29.12-6.96 44.29-40.69 33.89-75.34zm84.72-20.78c30.94-8.14 46.42-49.94 34.58-93.36s-46.52-72.01-77.46-63.87-46.42 49.94-34.58 93.36c11.84 43.42 46.53 72.02 77.46 63.87zm281.39-29.34c-29.12-6.96-61.15 15.48-71.56 50.13-10.4 34.65 4.77 68.38 33.89 75.34 29.12 6.96 61.15-15.48 71.56-50.13 10.4-34.65-4.77-68.38-33.89-75.34zm-156.27 29.34c30.94 8.14 65.62-20.45 77.46-63.87 11.84-43.42-3.64-85.21-34.58-93.36s-65.62 20.45-77.46 63.87c-11.84 43.42 3.64 85.22 34.58 93.36z">
                  </path>
                </svg>
              </div>
            </div>
          </div>

          <div>
            <label for="new_breed" class="block text-sm font-medium text-gray-700 mb-1">Raça</label>
            <div class="relative">
              <input type="text" id="new_breed" name="breed" required
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50"
                placeholder="Raça do Pet">
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-paw-print-icon lucide-paw-print">
                  <circle cx="11" cy="4" r="2" />
                  <circle cx="18" cy="8" r="2" />
                  <circle cx="20" cy="16" r="2" />
                  <path
                    d="M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z" />
                </svg>
              </div>
            </div>
          </div>

          <div>
            <label for="new_fur_color" class="block text-sm font-medium text-gray-700 mb-1">Cor da pelagem</label>
            <div class="relative">
              <input type="text" id="new_fur_color" name="fur_color"
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50"
                placeholder="Cor da pelagem">
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 781 752" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-droplet-icon">
                  <path fill="currentColor"
                    d="M467 479q-2-7 2-13l-3-3-6 1q0-7-5-3-2-3-4-2 4 1 1 4l3 3q-3 1 0 2l-11 2q-3 3 0 2 6 2 0 5-11 5-22 3l-2-2 20-35q8-19 13-38l-1-1q-9 6-18 7 12-96-29-183-21-40-56-67 0 8 5 15 20 60 26 125 7 104-41 197-1-6 2-9l-2-4v-5l-4-1q-2 2 1 4-4 2-1 5 1-4 2-1l-3 5v-3l-6-1 1-4 5-3-5-2 2-2q-2-4-5-6 4-3 4-9 28-63 28-132-2-73-24-142-15-40-39-73-2-5-1-8 89 24 132 108a341 341 0 0 1 34 150q5-6 12-11 2-1 3 3 4 46-15 89 3 1 8-2h7q-2 18-8 35" />
                  <path fill="currentColor"
                    d="M444 477q6-3 0-5-3 1 0-2l11-2q-3-1 0-2l-3-3q3-3-1-4 2-1 4 2 5-4 5 3l6-1 3 3q-4 6-2 13l-8 23 1 2q23-31 36-66 19-45 26-91 14-84-27-157-4-7 3-8 86 41 107 135a280 280 0 0 1 3 76h3l12-11h3l-2 37q-5 23-17 42l1 2 17-8v11q-9 42-35 76l1 1q11-3 21-10l3 3-21 39q-15 19-33 34l18-2h5v4q-31 33-75 42l-29 1q-4-3-3-6 54-27 89-75l3-7-27 3-1-2q37-30 52-75zm106-213 2 10q1-6-2-10M330 462q0 6-4 9 3 2 5 6l-2 2 5 2-5 3-1 4 6 1v3l3-5q-1-3-2 1-3-3 1-5-3-2-1-4l4 1v5l2 4q-3 3-2 9l-15 27-54 77q-14 27-25 56-6 6-9-1-2-25 7-48 5-12 11-21 24-34 39-72 32-117-24-223-15-25-38-40 38 108 2 218l-30 70q-18 45-24 94-3 7-8 1-6-25-4-49 4-28 14-54 21-42 35-87 20-71 6-142-10-48-40-84l-12-12q-2-4-1-7 97 18 136 109 29 76 21 158z" />
                </svg>
              </div>
            </div>
          </div>

          <div>
            <label for="new_gender" class="block text-sm font-medium text-gray-700 mb-1">Sexo</label>
            <div class="relative">
              <select id="new_gender" name="gender" required
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50">
                <option value="male">Macho</option>
                <option value="female">Fêmea</option>
              </select>
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  aria-hidden="true">
                  <path d="m14 6 4 4" />
                  <path d="M17 3h4v4" />
                  <path d="m21 3-7.75 7.75" />
                  <circle cx="9" cy="15" r="6" />
                </svg>
              </div>
            </div>
          </div>

          <div>
            <label for="new_birth_date" class="block text-sm font-medium text-gray-700 mb-1">Data de Nascimento</label>
            <div class="relative">
              <input type="text" id="new_birth_date" name="birth_date" required placeholder="DD/MM/AAAA" maxlength="10"
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50"
                oninput="ValidacaoFormulario.formatarData(this)">
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  aria-hidden="true">
                  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                  <line x1="16" y1="2" x2="16" y2="6"></line>
                  <line x1="8" y1="2" x2="8" y2="6"></line>
                  <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
              </div>
            </div>
          </div>

          <div>
            <label for="new_microchip" class="block text-sm font-medium text-gray-700 mb-1">Código do Microchip</label>
            <div class="relative">
              <input type="text" id="new_microchip" name="microchip" maxlength="19" required
                oninput="formatMicrochip(this)" placeholder="913.456.789.123.456"
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50">
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-cpu-icon lucide-cpu">
                  <rect width="16" height="16" x="4" y="4" rx="2" />
                  <rect width="6" height="6" x="9" y="9" rx="1" />
                  <path d="M15 2v2" />
                  <path d="M15 20v2" />
                  <path d="M2 15h2" />
                  <path d="M2 9h2" />
                  <path d="M20 15h2" />
                  <path d="M20 9h2" />
                  <path d="M9 2v2" />
                  <path d="M9 20v2" />
                </svg>
              </div>
            </div>
            <p class="mt-1 text-sm text-gray-500">Máximo 15 dígitos</p>
          </div>

          <div>
            <label for="new_weight" class="block text-sm font-medium text-gray-700 mb-1">
              Peso <span class="text-gray-400">(Opcional)</span>
            </label>
            <div class="relative">
              <input type="text" id="new_weight" name="weight" placeholder="Ex: 10.5" step="0.1" min="0" max="100"
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50">
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-weight-icon lucide-weight">
                  <circle cx="12" cy="5" r="3" />
                  <path
                    d="M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z" />
                </svg>
              </div>
            </div>
          </div>

          <div class="col-span-1 sm:col-span-2">
            <label for="new_pet_photo" class="block text-sm font-medium text-gray-700 mb-1">Foto do Pet</label>
            <div class="relative">
              <input type="file" id="new_pet_photo" name="photo" accept="image/*" required
                class="block w-full rounded-lg border border-input bg-background px-3 py-2 ps-9 text-sm text-foreground shadow-sm shadow-black/5 transition-shadow placeholder:text-muted-foreground/70 focus-visible:border-ring focus-visible:outline-none focus-visible:ring-[3px] focus-visible:ring-ring/20 disabled:cursor-not-allowed disabled:opacity-50">
              <div
                class="pointer-events-none absolute inset-y-0 start-0 flex items-center justify-center ps-3 text-muted-foreground/80 peer-disabled:opacity-50">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  aria-hidden="true">
                  <path
                    d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z" />
                  <circle cx="12" cy="13" r="3" />
                </svg>
              </div>
            </div>
            <p class="mt-1 text-sm text-gray-500">Formatos aceitos: JPG, PNG, GIF. Tamanho máximo: 5MB</p>
          </div>
        </div>
        <input type="hidden" id="username_pet_novo" name="username">
      </form>
    </div>
  </div>
</div>